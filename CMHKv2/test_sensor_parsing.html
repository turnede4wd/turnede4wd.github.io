<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>傳感器數據解析測試</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }

        .test-case {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .pass {
            background-color: #d4edda;
            border-color: #c3e6cb;
        }

        .fail {
            background-color: #f8d7da;
            border-color: #f5c6cb;
        }

        pre {
            background-color: #f5f5f5;
            padding: 10px;
            overflow-x: auto;
        }
    </style>
</head>

<body>
    <h1>傳感器數據解析測試</h1>
    <div id="results"></div>

    <script>
        const testCases = [
            '[sensor][ax][g]=-0.0367',
            '[sensor][ay][g]=0.3409',
            '[sensor][az][g]=-0.9265',
            '[sensor][gx][dps]=0.35',
            '[sensor][gy][dps]=-0.96',
            '[sensor][gz][dps]=-0.58',
            '[sensor][g][m/s²]=9.68'
        ];

        const regex = /\[sensor\]\[([^\]]+)\]\[([^\]]+)\]=([\d\.-]+)/;
        const resultsDiv = document.getElementById('results');

        testCases.forEach(testCase => {
            const match = testCase.match(regex);
            const testDiv = document.createElement('div');
            testDiv.className = 'test-case ' + (match ? 'pass' : 'fail');

            let content = `<strong>測試數據:</strong><pre>${testCase}</pre>`;

            if (match) {
                content += `<strong>匹配成功!</strong><br>`;
                content += `傳感器名稱: <code>${match[1]}</code><br>`;
                content += `單位: <code>${match[2]}</code><br>`;
                content += `數值: <code>${match[3]}</code> (parseFloat: ${parseFloat(match[3])})`;
            } else {
                content += `<strong>匹配失敗!</strong>`;
            }

            testDiv.innerHTML = content;
            resultsDiv.appendChild(testDiv);
        });
    </script>
</body>

</html>